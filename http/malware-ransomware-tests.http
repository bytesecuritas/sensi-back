### Variables d'environnement
@baseUrl = http://localhost:3000
@authToken = your_auth_token_here

### ===== AUTHENTIFICATION =====

### Connexion en tant qu'administrateur
# @name login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "admin@example.com",
  "password": "password123"
}

### ===== PARCOURS D'APPRENTISSAGE SUR LES MALWARES ET RANSOMWARES =====

### Créer un parcours sur les malwares et ransomwares
POST {{baseUrl}}/learning/parcours
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "titre": "Protection contre les Malwares et Ransomwares",
  "description": "Parcours complet pour comprendre et se protéger contre les logiciels malveillants et les rançongiciels",
  "public_cible": "ENTREPRISE",
  "niveau_global": "AVANCE",
  "duree_estimee_heures": 8
}

### Récupérer le parcours créé
GET {{baseUrl}}/learning/parcours/3
Authorization: Bearer {{authToken}}

### ===== MODULES D'APPRENTISSAGE =====

### Créer un module sur les types de malwares
POST {{baseUrl}}/learning/modules
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "titre": "Comprendre les Types de Malwares",
  "description": "Module expliquant les différentes catégories de logiciels malveillants et leurs mécanismes",
  "code_langue": "fr",
  "niveau_difficulte": "MOYEN",
  "parcours_id": 3,
  "thematique_cyber": "MALWARE",
  "duree_minutes": 75,
  "objectifs_apprentissage": "Identifier les différents types de malwares et comprendre leurs modes de fonctionnement"
}

### Créer un module sur les ransomwares
POST {{baseUrl}}/learning/modules
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "titre": "Menace des Ransomwares",
  "description": "Module détaillant le fonctionnement des ransomwares et leur impact sur les organisations",
  "code_langue": "fr",
  "niveau_difficulte": "AVANCE",
  "parcours_id": 3,
  "thematique_cyber": "RANSOMWARE",
  "duree_minutes": 90,
  "objectifs_apprentissage": "Comprendre le cycle d'attaque des ransomwares et les conséquences pour les entreprises"
}

### Créer un module sur les vecteurs d'infection
POST {{baseUrl}}/learning/modules
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "titre": "Vecteurs d'Infection Malware",
  "description": "Module sur les différentes méthodes utilisées pour propager les malwares",
  "code_langue": "fr",
  "niveau_difficulte": "MOYEN",
  "parcours_id": 3,
  "thematique_cyber": "MALWARE",
  "duree_minutes": 60,
  "objectifs_apprentissage": "Identifier les principaux vecteurs d'infection et comprendre comment les malwares se propagent"
}

### Créer un module sur les stratégies de protection
POST {{baseUrl}}/learning/modules
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "titre": "Stratégies de Protection et de Récupération",
  "description": "Module sur les mesures préventives et les plans de récupération en cas d'attaque",
  "code_langue": "fr",
  "niveau_difficulte": "AVANCE",
  "parcours_id": 3,
  "thematique_cyber": "PROTECTION",
  "duree_minutes": 120,
  "objectifs_apprentissage": "Mettre en place des mesures de protection efficaces et élaborer un plan de récupération après sinistre"
}

### Récupérer les modules du parcours
GET {{baseUrl}}/learning/parcours/3/modules
Authorization: Bearer {{authToken}}

### ===== CONTENUS MÉDIAS =====

### Créer un contenu vidéo sur les types de malwares
POST {{baseUrl}}/learning/media/upload
Content-Type: multipart/form-data
Authorization: Bearer {{authToken}}

{
  "module_id": 9,
  "type_contenu": "VIDEO",
  "duree_minutes": 35,
  "url_fichier": "https://cybersecure-training.com/videos/malware-types-explained.mp4",
  "nom_fichier": "malware-types-explained.mp4",
  "chemin_stockage": "src/resource/Protection contre les Malwares et Ransomwares/Comprendre les Types de Malwares/malware-types-explained.mp4",
  "taille_fichier": 73400320,
  "description": "Vidéo explicative sur les différentes catégories de malwares et leurs caractéristiques",
  "type_attaque": "MALWARE"
}

### Créer une simulation d'attaque par ransomware
POST {{baseUrl}}/learning/media/upload
Content-Type: multipart/form-data
Authorization: Bearer {{authToken}}

{
  "module_id": 10,
  "type_contenu": "SIMULATION",
  "duree_minutes": 45,
  "url_fichier": "https://cybersecure-training.com/simulations/ransomware-attack-simulation.html",
  "nom_fichier": "ransomware-attack-simulation.html",
  "chemin_stockage": "src/resource/Protection contre les Malwares et Ransomwares/Menace des Ransomwares/ransomware-attack-simulation.html",
  "taille_fichier": 4194304,
  "description": "Simulation interactive d'une attaque par ransomware permettant de comprendre son déroulement",
  "type_attaque": "RANSOMWARE"
}

### Créer un contenu interactif sur les vecteurs d'infection
POST {{baseUrl}}/learning/media/upload
Content-Type: multipart/form-data
Authorization: Bearer {{authToken}}

{
  "module_id": 11,
  "type_contenu": "INTERACTIF",
  "duree_minutes": 30,
  "url_fichier": "https://cybersecure-training.com/interactive/infection-vectors.html",
  "nom_fichier": "infection-vectors.html",
  "chemin_stockage": "src/resource/Protection contre les Malwares et Ransomwares/Vecteurs d'Infection Malware/infection-vectors.html",
  "taille_fichier": 3145728,
  "description": "Contenu interactif illustrant les différents vecteurs d'infection malware",
  "type_attaque": "MALWARE"
}

### Créer un guide de protection et récupération
POST {{baseUrl}}/learning/media/upload
Content-Type: multipart/form-data
Authorization: Bearer {{authToken}}

{
  "module_id": 12,
  "type_contenu": "DOCUMENT",
  "duree_minutes": 60,
  "url_fichier": "https://cybersecure-training.com/documents/malware-protection-recovery-guide.pdf",
  "nom_fichier": "malware-protection-recovery-guide.pdf",
  "chemin_stockage": "src/resource/Protection contre les Malwares et Ransomwares/Stratégies de Protection et de Récupération/malware-protection-recovery-guide.pdf",
  "taille_fichier": 10485760,
  "description": "Guide complet sur les stratégies de protection contre les malwares et les plans de récupération",
  "type_attaque": "PROTECTION"
}

### Récupérer les contenus média d'un module
GET {{baseUrl}}/learning/modules/9/media
Authorization: Bearer {{authToken}}

### ===== PROGRESSIONS =====

### Créer une progression pour un utilisateur
POST {{baseUrl}}/learning/progress
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "utilisateur_id": 9,
  "module_id": 9,
  "statut": "EN_COURS",
  "score": 0,
  "temps_passe": 0
}

### Mettre à jour une progression après complétion d'un module
PUT {{baseUrl}}/learning/progress/15
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "statut": "TERMINE",
  "score": 85,
  "temps_passe": 4500,
  "date_completion": "2024-02-14T16:20:00Z"
}

### Récupérer les progressions de l'utilisateur
GET {{baseUrl}}/learning/progress/user/9
Authorization: Bearer {{authToken}}

### ===== CERTIFICATIONS =====

### Créer une certification pour un utilisateur ayant complété le parcours
POST {{baseUrl}}/learning/certifications
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "utilisateur_id": 9,
  "parcours_id": 3,
  "type_certification": "DEFENSE_MALWARE_RANSOMWARE",
  "date_emission": "2024-03-01T09:15:00Z",
  "url_certification": "https://cybersecure-training.com/certifications/user9-malware-ransomware-defense.pdf"
}

### Récupérer les certifications de l'utilisateur
GET {{baseUrl}}/learning/certifications/user/9
Authorization: Bearer {{authToken}}

### ===== SCÉNARIO COMPLET: SIMULATION D'INCIDENT =====

### 1. Ajouter le parcours à une organisation
POST {{baseUrl}}/learning/organisations/4/parcours/3
Authorization: Bearer {{authToken}}

### 2. Créer un contenu média spécial pour la simulation d'incident
POST {{baseUrl}}/learning/media/upload
Content-Type: multipart/form-data
Authorization: Bearer {{authToken}}

{
  "module_id": 12,
  "type_contenu": "EXERCICE",
  "duree_minutes": 180,
  "url_fichier": "https://cybersecure-training.com/exercises/ransomware-incident-response.html",
  "nom_fichier": "ransomware-incident-response.html",
  "chemin_stockage": "src/resource/Protection contre les Malwares et Ransomwares/Stratégies de Protection et de Récupération/ransomware-incident-response.html",
  "taille_fichier": 8388608,
  "description": "Exercice de simulation d'incident de sécurité impliquant une attaque par ransomware",
  "type_attaque": "RANSOMWARE"
}

### 3. Créer des progressions pour une équipe de réponse aux incidents
POST {{baseUrl}}/learning/progress
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "utilisateur_id": 10,
  "module_id": 12,
  "statut": "EN_COURS",
  "score": 0,
  "temps_passe": 0
}

###

POST {{baseUrl}}/learning/progress
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "utilisateur_id": 11,
  "module_id": 12,
  "statut": "EN_COURS",
  "score": 0,
  "temps_passe": 0
}

###

POST {{baseUrl}}/learning/progress
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "utilisateur_id": 12,
  "module_id": 12,
  "statut": "EN_COURS",
  "score": 0,
  "temps_passe": 0
}

### 4. Mettre à jour les progressions après l'exercice
PUT {{baseUrl}}/learning/progress/20
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "statut": "TERMINE",
  "score": 92,
  "temps_passe": 10800,
  "date_completion": "2024-03-05T15:30:00Z"
}

###

PUT {{baseUrl}}/learning/progress/21
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "statut": "TERMINE",
  "score": 88,
  "temps_passe": 10800,
  "date_completion": "2024-03-05T15:30:00Z"
}

###

PUT {{baseUrl}}/learning/progress/22
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "statut": "TERMINE",
  "score": 95,
  "temps_passe": 10800,
  "date_completion": "2024-03-05T15:30:00Z"
}

### 5. Obtenir un rapport d'évaluation de l'exercice
GET {{baseUrl}}/learning/exercises/5/evaluation
Authorization: Bearer {{authToken}}

### 6. Créer des certifications pour l'équipe
POST {{baseUrl}}/learning/certifications
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "utilisateur_id": 10,
  "parcours_id": 3,
  "type_certification": "INCIDENT_RESPONSE_SPECIALIST",
  "date_emission": "2024-03-10T11:00:00Z",
  "url_certification": "https://cybersecure-training.com/certifications/user10-incident-response.pdf"
}