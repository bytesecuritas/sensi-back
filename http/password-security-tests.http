### Variables d'environnement
@baseUrl = http://localhost:3000
@authToken = your_auth_token_here

### ===== AUTHENTIFICATION =====

### Connexion en tant qu'administrateur
# @name login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "admin@example.com",
  "password": "password123"
}

### ===== PARCOURS D'APPRENTISSAGE SUR LA SÉCURITÉ DES MOTS DE PASSE =====

### Créer un parcours sur la sécurité des mots de passe
POST {{baseUrl}}/learning/parcours
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "titre": "Sécurité des Mots de Passe et Authentification",
  "description": "Parcours complet pour comprendre l'importance des mots de passe forts et des méthodes d'authentification sécurisées",
  "public_cible": "ENTREPRISE",
  "niveau_global": "INTERMEDIAIRE",
  "duree_estimee_heures": 4
}

### Récupérer le parcours créé
GET {{baseUrl}}/learning/parcours/4
Authorization: Bearer {{authToken}}

### ===== MODULES D'APPRENTISSAGE =====

### Créer un module sur les principes des mots de passe sécurisés
POST {{baseUrl}}/learning/modules
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "titre": "Principes des Mots de Passe Sécurisés",
  "description": "Module expliquant les caractéristiques d'un mot de passe fort et les risques liés aux mots de passe faibles",
  "code_langue": "fr",
  "niveau_difficulte": "FACILE",
  "parcours_id": 4,
  "thematique_cyber": "PASSWORD_SECURITY",
  "duree_minutes": 45,
  "objectifs_apprentissage": "Comprendre les critères d'un mot de passe fort et les risques associés aux mots de passe faibles"
}

### Créer un module sur les gestionnaires de mots de passe
POST {{baseUrl}}/learning/modules
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "titre": "Utilisation des Gestionnaires de Mots de Passe",
  "description": "Module sur les avantages et l'utilisation des gestionnaires de mots de passe",
  "code_langue": "fr",
  "niveau_difficulte": "MOYEN",
  "parcours_id": 4,
  "thematique_cyber": "PASSWORD_SECURITY",
  "duree_minutes": 60,
  "objectifs_apprentissage": "Maîtriser l'utilisation d'un gestionnaire de mots de passe et comprendre ses avantages"
}

### Créer un module sur l'authentification à deux facteurs
POST {{baseUrl}}/learning/modules
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "titre": "Authentification à Deux Facteurs (2FA)",
  "description": "Module sur les principes et la mise en place de l'authentification à deux facteurs",
  "code_langue": "fr",
  "niveau_difficulte": "MOYEN",
  "parcours_id": 4,
  "thematique_cyber": "AUTHENTICATION",
  "duree_minutes": 50,
  "objectifs_apprentissage": "Comprendre le fonctionnement de la 2FA et savoir la configurer sur différents services"
}

### Créer un module sur les attaques par force brute et dictionnaire
POST {{baseUrl}}/learning/modules
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "titre": "Attaques par Force Brute et Dictionnaire",
  "description": "Module sur les techniques utilisées pour craquer les mots de passe et comment s'en protéger",
  "code_langue": "fr",
  "niveau_difficulte": "AVANCE",
  "parcours_id": 4,
  "thematique_cyber": "PASSWORD_ATTACKS",
  "duree_minutes": 70,
  "objectifs_apprentissage": "Comprendre les méthodes d'attaque des mots de passe et mettre en place des protections efficaces"
}

### Récupérer les modules du parcours
GET {{baseUrl}}/learning/parcours/4/modules
Authorization: Bearer {{authToken}}

### ===== CONTENUS MÉDIAS =====

### Créer un contenu vidéo sur les principes des mots de passe sécurisés
POST {{baseUrl}}/learning/media/upload
Content-Type: multipart/form-data
Authorization: Bearer {{authToken}}

{
  "module_id": 13,
  "type_contenu": "VIDEO",
  "duree_minutes": 20,
  "url_fichier": "https://cybersecure-training.com/videos/secure-password-principles.mp4",
  "nom_fichier": "secure-password-principles.mp4",
  "chemin_stockage": "src/resource/Sécurité des Mots de Passe et Authentification/Principes des Mots de Passe Sécurisés/secure-password-principles.mp4",
  "taille_fichier": 41943040,
  "description": "Vidéo explicative sur les principes fondamentaux des mots de passe sécurisés",
  "type_attaque": "PASSWORD_ATTACKS"
}

### Créer un tutoriel sur les gestionnaires de mots de passe
POST {{baseUrl}}/learning/media/upload
Content-Type: multipart/form-data
Authorization: Bearer {{authToken}}

{
  "module_id": 14,
  "type_contenu": "INTERACTIF",
  "duree_minutes": 30,
  "url_fichier": "https://cybersecure-training.com/tutorials/password-manager-guide.html",
  "nom_fichier": "password-manager-guide.html",
  "chemin_stockage": "src/resource/Sécurité des Mots de Passe et Authentification/Utilisation des Gestionnaires de Mots de Passe/password-manager-guide.html",
  "taille_fichier": 2097152,
  "description": "Tutoriel interactif sur l'installation et l'utilisation d'un gestionnaire de mots de passe",
  "type_attaque": "PASSWORD_ATTACKS"
}

### Créer un guide sur l'authentification à deux facteurs
POST {{baseUrl}}/learning/media/upload
Content-Type: multipart/form-data
Authorization: Bearer {{authToken}}

{
  "module_id": 15,
  "type_contenu": "DOCUMENT",
  "duree_minutes": 25,
  "url_fichier": "https://cybersecure-training.com/documents/2fa-setup-guide.pdf",
  "nom_fichier": "2fa-setup-guide.pdf",
  "chemin_stockage": "src/resource/Sécurité des Mots de Passe et Authentification/Authentification à Deux Facteurs (2FA)/2fa-setup-guide.pdf",
  "taille_fichier": 3145728,
  "description": "Guide étape par étape pour configurer l'authentification à deux facteurs sur différents services",
  "type_attaque": "ACCOUNT_TAKEOVER"
}

### Créer une démonstration sur les attaques de mots de passe
POST {{baseUrl}}/learning/media/upload
Content-Type: multipart/form-data
Authorization: Bearer {{authToken}}

{
  "module_id": 16,
  "type_contenu": "DEMONSTRATION",
  "duree_minutes": 35,
  "url_fichier": "https://cybersecure-training.com/demos/password-attack-demo.html",
  "nom_fichier": "password-attack-demo.html",
  "chemin_stockage": "src/resource/Sécurité des Mots de Passe et Authentification/Attaques par Force Brute et Dictionnaire/password-attack-demo.html",
  "taille_fichier": 4194304,
  "description": "Démonstration contrôlée d'attaques par force brute et dictionnaire pour illustrer leur fonctionnement",
  "type_attaque": "BRUTE_FORCE"
}

### Récupérer les contenus média d'un module
GET {{baseUrl}}/learning/modules/13/media
Authorization: Bearer {{authToken}}

### ===== PROGRESSIONS =====

### Créer une progression pour un utilisateur
POST {{baseUrl}}/learning/progress
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "utilisateur_id": 13,
  "module_id": 13,
  "statut": "EN_COURS",
  "score": 0,
  "temps_passe": 0
}

### Mettre à jour une progression après complétion d'un module
PUT {{baseUrl}}/learning/progress/25
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "statut": "TERMINE",
  "score": 90,
  "temps_passe": 2700,
  "date_completion": "2024-02-18T09:45:00Z"
}

### Récupérer les progressions de l'utilisateur
GET {{baseUrl}}/learning/progress/user/13
Authorization: Bearer {{authToken}}

### ===== CERTIFICATIONS =====

### Créer une certification pour un utilisateur ayant complété le parcours
POST {{baseUrl}}/learning/certifications
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "utilisateur_id": 13,
  "parcours_id": 4,
  "type_certification": "PASSWORD_SECURITY_EXPERT",
  "date_emission": "2024-02-28T14:30:00Z",
  "url_certification": "https://cybersecure-training.com/certifications/user13-password-security.pdf"
}

### Récupérer les certifications de l'utilisateur
GET {{baseUrl}}/learning/certifications/user/13
Authorization: Bearer {{authToken}}

### ===== SCÉNARIO COMPLET: AUDIT DE SÉCURITÉ DES MOTS DE PASSE =====

### 1. Ajouter le parcours à une organisation
POST {{baseUrl}}/learning/organisations/5/parcours/4
Authorization: Bearer {{authToken}}

### 2. Créer un contenu média spécial pour l'audit de sécurité
POST {{baseUrl}}/learning/media/upload
Content-Type: multipart/form-data
Authorization: Bearer {{authToken}}

{
  "module_id": 16,
  "type_contenu": "OUTIL",
  "duree_minutes": 45,
  "url_fichier": "https://cybersecure-training.com/tools/password-policy-audit.html",
  "nom_fichier": "password-policy-audit.html",
  "chemin_stockage": "src/resource/Sécurité des Mots de Passe et Authentification/Attaques par Force Brute et Dictionnaire/password-policy-audit.html",
  "taille_fichier": 5242880,
  "description": "Outil d'audit permettant d'évaluer la politique de mots de passe d'une organisation",
  "type_attaque": "PASSWORD_POLICY"
}

### 3. Créer des progressions pour l'équipe IT
POST {{baseUrl}}/learning/progress
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "utilisateur_id": 14,
  "module_id": 16,
  "statut": "EN_COURS",
  "score": 0,
  "temps_passe": 0
}

###

POST {{baseUrl}}/learning/progress
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "utilisateur_id": 15,
  "module_id": 16,
  "statut": "EN_COURS",
  "score": 0,
  "temps_passe": 0
}

### 4. Mettre à jour les progressions après l'audit
PUT {{baseUrl}}/learning/progress/30
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "statut": "TERMINE",
  "score": 95,
  "temps_passe": 2700,
  "date_completion": "2024-03-02T11:30:00Z"
}

###

PUT {{baseUrl}}/learning/progress/31
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "statut": "TERMINE",
  "score": 92,
  "temps_passe": 2700,
  "date_completion": "2024-03-02T11:30:00Z"
}

### 5. Obtenir un rapport d'audit de la politique de mots de passe
GET {{baseUrl}}/organisations/5/password-policy-audit
Authorization: Bearer {{authToken}}

### 6. Mettre en place des recommandations basées sur l'audit
POST {{baseUrl}}/organisations/5/security-recommendations
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "category": "PASSWORD_POLICY",
  "recommendations": [
    "Mettre en place une politique de complexité minimale pour les mots de passe",
    "Configurer l'expiration des mots de passe tous les 90 jours",
    "Déployer l'authentification à deux facteurs pour tous les comptes administratifs",
    "Former tous les employés à l'utilisation d'un gestionnaire de mots de passe"
  ],
  "priority": "HIGH",
  "implementation_deadline": "2024-04-01T00:00:00Z"
}