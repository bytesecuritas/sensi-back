### Variables d'environnement
@baseUrl = http://localhost:3000
@authToken = your_auth_token_here

### ===== PARCOURS D'APPRENTISSAGE =====

### Créer un parcours d'apprentissage
POST {{baseUrl}}/learning/parcours
Content-Type: application/json

{
  "titre": "Formation Cybersécurité Avancée",
  "description": "Parcours complet sur la cybersécurité pour les professionnels expérimentés",
  "public_cible": "ENTREPRISE"
}

### Récupérer tous les parcours
GET {{baseUrl}}/learning/parcours

### Récupérer un parcours par ID
GET {{baseUrl}}/learning/parcours/1

### Récupérer les parcours disponibles pour l'utilisateur connecté
GET {{baseUrl}}/learning/parcours/user/available
Authorization: Bearer {{authToken}}

### ===== MODULES D'APPRENTISSAGE =====

### Créer un module d'apprentissage
POST {{baseUrl}}/learning/modules
Content-Type: application/json

{
  "titre": "Introduction aux Menaces Avancées",
  "description": "Module d'introduction aux techniques d'attaques avancées",
  "type_contenu": "VIDEO",
  "code_langue": "fr",
  "duree_minutes": 60,
  "niveau_difficulte": "DIFFICILE",
  "parcours_id": 1,
  "thematique_cyber": "PHISHING"
}

### Récupérer les modules d'un parcours
GET {{baseUrl}}/learning/parcours/1/modules

### ===== CONTENUS MÉDIAS =====

### Créer un contenu média
POST {{baseUrl}}/learning/media
Content-Type: application/json

{
  "module_id": 1,
  "type_media": "VIDEO",
  "url_fichier": "https://example.com/video-menaces-avancees.mp4",
  "nom_fichier": "video-menaces-avancees.mp4",
  "taille_fichier": 104857600,
  "description": "Vidéo explicative sur les menaces avancées en cybersécurité",
  "type_attaque": "PHISHING_EMAIL"
}

### Récupérer les contenus média d'un module
GET {{baseUrl}}/learning/modules/1/media

### ===== PROGRESSIONS =====

### Créer une progression
POST {{baseUrl}}/learning/progress
Content-Type: application/json

{
  "utilisateur_id": 1,
  "module_id": 1,
  "statut": "EN_COURS",
  "score": 0,
  "temps_passe": 0
}

### Mettre à jour une progression
PUT {{baseUrl}}/learning/progress/1
Content-Type: application/json

{
  "statut": "TERMINE",
  "score": 85.5,
  "temps_passe": 3600,
  "date_completion": "2024-01-15T10:30:00Z"
}

### Récupérer les progressions de l'utilisateur connecté
GET {{baseUrl}}/learning/progress/user
Authorization: Bearer {{authToken}}

### Récupérer la progression d'un module spécifique
GET {{baseUrl}}/learning/progress/user/1
Authorization: Bearer {{authToken}}

### ===== CERTIFICATIONS =====

### Créer une certification
POST {{baseUrl}}/learning/certifications
Content-Type: application/json

{
  "utilisateur_id": 1,
  "parcours_id": 1,
  "type_certification": "SENSIBILISATION_BASIQUE",
  "date_emission": "2024-01-15T10:30:00Z",
  "url_certification": "https://example.com/certifications/user1-parcours1.pdf"
}

### Récupérer les certifications de l'utilisateur connecté
GET {{baseUrl}}/learning/certifications/user
Authorization: Bearer {{authToken}}

### ===== GESTION DES PARCOURS PAR ORGANISATION =====

### Ajouter un parcours à une organisation
POST {{baseUrl}}/learning/organisations/1/parcours/1

### Récupérer les parcours d'une organisation
GET {{baseUrl}}/learning/organisations/1/parcours

### Retirer un parcours d'une organisation
DELETE {{baseUrl}}/learning/organisations/1/parcours/1

### ===== VÉRIFICATION D'ACCÈS =====

### Vérifier si l'utilisateur a accès à un parcours
GET {{baseUrl}}/learning/access/check/1
Authorization: Bearer {{authToken}}

### ===== EXEMPLES DE DONNÉES COMPLÈTES =====

### Créer un parcours complet avec modules et contenus
# 1. Créer le parcours
POST {{baseUrl}}/learning/parcours
Content-Type: application/json

{
  "titre": "Formation Sensibilisation Cybersécurité",
  "description": "Parcours de sensibilisation à la cybersécurité pour tous les employés",
  "public_cible": "GRAND_PUBLIC"
}

###

# 2. Créer le premier module
POST {{baseUrl}}/learning/modules
Content-Type: application/json

{
  "titre": "Les Bases de la Cybersécurité",
  "description": "Introduction aux concepts fondamentaux de la cybersécurité",
  "type_contenu": "VIDEO",
  "code_langue": "fr",
  "duree_minutes": 30,
  "niveau_difficulte": "FACILE",
  "parcours_id": 1,
  "thematique_cyber": "SECURE_BROWSING"
}

###

# 3. Créer le contenu média pour le premier module
POST {{baseUrl}}/learning/media
Content-Type: application/json

{
  "module_id": 1,
  "type_media": "VIDEO",
  "url_fichier": "https://example.com/videos/bases-cybersecurite.mp4",
  "nom_fichier": "bases-cybersecurite.mp4",
  "taille_fichier": 52428800,
  "description": "Vidéo d'introduction aux bases de la cybersécurité",
  "type_attaque": "FAKE_WEBSITE"
}

###

# 4. Créer le deuxième module
POST {{baseUrl}}/learning/modules
Content-Type: application/json

{
  "titre": "Reconnaître les Menaces",
  "description": "Apprendre à identifier les différents types de menaces",
  "type_contenu": "INTERACTIF",
  "code_langue": "fr",
  "duree_minutes": 45,
  "niveau_difficulte": "MOYEN",
  "parcours_id": 1,
  "thematique_cyber": "SOCIAL_ENGINEERING"
}

###

# 5. Créer le contenu média pour le deuxième module
POST {{baseUrl}}/learning/media
Content-Type: application/json

{
  "module_id": 2,
  "type_media": "DOCUMENT",
  "url_fichier": "https://example.com/documents/guide-menaces.pdf",
  "nom_fichier": "guide-menaces.pdf",
  "taille_fichier": 2097152,
  "description": "Guide pratique pour reconnaître les menaces",
  "type_attaque": "SOCIAL_MEDIA_SCAM"
}

###

# 6. Ajouter le parcours à une organisation
POST {{baseUrl}}/learning/organisations/1/parcours/1

###

# 7. Créer une progression pour un utilisateur
POST {{baseUrl}}/learning/progress
Content-Type: application/json

{
  "utilisateur_id": 1,
  "module_id": 1,
  "statut": "EN_COURS",
  "score": 0,
  "temps_passe": 0
}

###

# 8. Récupérer le parcours complet avec tous ses modules et contenus
GET {{baseUrl}}/learning/parcours/1
